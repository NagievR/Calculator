(this.webpackJsonpcalculator=this.webpackJsonpcalculator||[]).push([[0],{16:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){},19:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(9),a=n.n(c),s=n(1),u=n.n(s),i=(n(16),n(2));n(17),n(18),n(19);function l(e){var t=e.switcherDisplaying,n=e.setJournalDisplaying,c="\u25b2",a=Object(s.useState)(c),u=Object(i.a)(a,2),l=u[0],o=u[1];return Object(s.useEffect)((function(){t||(o(c),n(!1))}),[n,t]),Object(r.jsx)("div",{id:"switcher-btn-wrap",children:Object(r.jsx)("button",{id:"switcher-btn",style:t?{top:"0"}:{top:"-30px"},onClick:function(e){o(e.target.textContent===c?"\xd7":c),n((function(e){return!e}))},children:l})})}n(6);var o=u.a.createContext();function j(){return Object(s.useContext)(o)}function b(e){var t=e.children,n=Object(s.useRef)([]),c=Object(s.useRef)([]),a=Object(s.useState)(""),u=Object(i.a)(a,2),l=u[0],j=u[1],b=Object(s.useState)(""),d=Object(i.a)(b,2),f=d[0],p=d[1],O=Object(s.useState)(""),h=Object(i.a)(O,2),v=h[0],y=h[1],m=Object(s.useState)([]),g=Object(i.a)(m,2),x=g[0],N=g[1];var k={separateFloatBy:".",currentNumber:l,setCurrentNumber:j,result:f,setResult:p,interimResult:v,setInterimResult:y,log:x,setLog:N,operatorsAction:{"\xf7":{value:"\xf7",priority:2,doOperation:function(e,t){return e/t}},"\xd7":{value:"\xd7",priority:2,doOperation:function(e,t){return e*t}},"\u2212":{value:"\u2212",priority:1,doOperation:function(e,t){return e-t}},"+":{value:"+",priority:1,doOperation:function(e,t){return e+t}}},numbersStack:n.current,operatorsStack:c.current,clearStore:function(){c.current.length=0,n.current.length=0,j(""),p(""),y(""),N([])}};return Object(r.jsx)(o.Provider,{value:k,children:t})}function d(e){var t=e.setSwitcherDisplaying,n=e.displayWidth,c=Object(s.useState)(!1),a=Object(i.a)(c,2),u=a[0],l=a[1],o=Object(s.useRef)(),b=j().log;return Object(s.useEffect)((function(){o.current.offsetWidth>n?(l(!0),t(!0)):(l(!1),t(!1))}),[b,t,n]),Object(r.jsx)("div",{className:"log-margin-bottom",children:Object(r.jsx)("div",{className:"output-elem-wrap ".concat(u?"oversized":""),children:Object(r.jsx)("span",{ref:o,id:"log",children:b.join(" ")})})})}var f=n(10);function p(){var e=Object(s.useRef)(),t=j(),n=t.separateFloatBy,c=t.currentNumber,a=t.interimResult,u=t.result;return console.clear(),console.log("currentNumber: ".concat(c,"\ninterimResult:").concat(a,"\nresult:").concat(u,"\n***********")),"string"===typeof c&&"string"===typeof u&&"string"===typeof u||alert("Error"),Object(r.jsx)(f.Textfit,{mode:"single",max:80,children:Object(r.jsx)("div",{className:"output-elem-wrap",children:Object(r.jsx)("span",{ref:e,className:c||u?"":"intermediate-res",id:"result",children:a?O(h(a,4),n):u?O(h(u),n):c?O(c,n):"0"})})})}function O(e,t){var n=String(e),r=n.split(t),c=Object(i.a)(r,2),a=c[0],s=c[1],u=Number(a).toLocaleString(),l="".concat(u).concat(t).concat(s);return n.includes(t)?l:u}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;if(e=String(e),Number.isInteger(Number(e)))return e;for(var n=Number(e).toFixed(t),r=n.length-1;r>2&&"0"===n[r];r--)n=n.slice(0,r);return n}function v(e){var t=e.setSwitcherDisplaying;return Object(r.jsxs)("div",{id:"output-container",children:[Object(r.jsx)(d,{displayWidth:315,setSwitcherDisplaying:t}),Object(r.jsx)(p,{displayWidth:315})]})}function y(e){var t=e.setJournalDisplaying,n=Object(s.useState)(!1),c=Object(i.a)(n,2),a=c[0],u=c[1];return Object(r.jsxs)("div",{id:"screen",children:[Object(r.jsx)(l,{switcherDisplaying:a,setJournalDisplaying:t}),Object(r.jsx)(v,{setSwitcherDisplaying:u})]})}n(8);function m(e){var t=e.children;return Object(r.jsx)("div",{id:"keys-row",children:t})}n(31);function g(e){var t=e.separateFloatBy,n=e.currentNumber,r=e.setCurrentNumber,c=e.setInterimResult,a=e.setResult,s=e.log,u=e.clearStore;function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"="===s[s.length-1]&&(u(),r(String(e)),!0)}return{numberHandler:function(e){if(!i(e)){c("");var a=String(Number.MAX_SAFE_INTEGER).length;(function(e){return String(e).split("").filter((function(e){return!isNaN(e)})).length})(n)>=a||("0"===n[0]&&n.length>0&&!n.includes(t)?r((function(t){return t.slice(1)+("0"!==e?e:"")})):r((function(t){return t+e})))}},floatKeyHandler:function(){n.includes(t)||i("0"+t)||(n.length?r((function(e){return e+t})):r((function(e){return e+"0"+t})),a(""),c(""))},negateKeyHandler:function(){n.length&&"0"!==n&&!i()&&(n.includes("-")?r((function(e){return e.slice(1)})):r((function(e){return"-"+e})))},deleteKeyHandler:function(){i()||(n.includes("-")&&2===n.length?r(""):r((function(e){return e.slice(0,e.length-1)})),a(""),c(""))}}}var x=n(7);function N(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;n;){var r=[t.pop(),t.pop()],c=r[0],a=r[1],s=e.pop(),u=s.doOperation(a,c);t.push(u),n--}return t[t.length-1]}var k=null,S=null;function H(e){var t=e.currentNumber,n=e.setCurrentNumber,r=e.setResult,c=e.result,a=e.setInterimResult,s=e.log,u=e.setLog,i=e.numbersStack,l=e.operatorsStack;function o(e){var t=function(e,t,n){if(t.length){var r=null;if(t[t.length-1].priority<e.priority||(r=N(t,n)),t.push(e),t[1]&&t[0].priority===t[1].priority){var c=t.pop();r=N(t,n),t.push(c)}return r}t.push(e)}(e,l,i);a(String(null!==t&&void 0!==t?t:""))}return{mathOperatorHandler:function(e){if(t){var j=c||t;u((function(t){return t.concat(j,e.value)})),i.push(Number(j)),r(""),n(""),a(""),k=i.slice(),S=l.slice(),o(e)}else!function(e){e.value!==s[s.length-1]&&s.length&&(u((function(t){return t.slice(0,t.length-1).concat(e.value)})),i.length=0,l.length=0,i.push.apply(i,Object(x.a)(k)),l.push.apply(l,Object(x.a)(S)),o(e))}(e)}}}var K=u.a.createContext();function w(e){var t=e.children,n=j().clearStore;var c=j(),a=g(c),s={numberHandler:a.numberHandler,floatKeyHandler:a.floatKeyHandler,negateKeyHandler:a.negateKeyHandler,deleteKeyHandler:a.deleteKeyHandler,mathOperatorHandler:H(c).mathOperatorHandler,equalsKeyHandler:function(e){var t=e.currentNumber,n=e.setCurrentNumber,r=e.setResult,c=e.setLog,a=e.numbersStack,s=e.operatorsStack;return{equalsKeyHandler:function(){if(s.length){t?(a.push(Number(t)),c((function(e){return e.concat(t)}))):(c((function(e){return e.concat("0")})),a.push(0)),c((function(e){return e.concat("=")}));var e=N(s,a,s.length);r(String(e)),n(String(e))}}}}(c).equalsKeyHandler,clearKeyHandler:function(){n()}};return Object(r.jsx)(K.Provider,{value:s,children:t})}var R=u.a.createContext();function C(e){var t=e.children,n="=",c="c",a="\u232b",u="\xb1",i=".",l=j().operatorsAction,o=Object(s.useContext)(K),b=o.mathOperatorHandler,d=o.numberHandler,f=o.floatKeyHandler,p=o.negateKeyHandler,O=o.deleteKeyHandler,h=o.equalsKeyHandler,v=o.clearKeyHandler;var y={defineInputType:function(e){if(isNaN(e))if(l[e])b(l[e]);else switch(e){case n:h();break;case c:v();break;case a:O();break;case u:p();break;case i:f();break;default:alert("unknown symbol"),console.log('unknown symbol: "'.concat(e,'"'))}else d(String(e))}};return Object(r.jsx)(R.Provider,{value:y,children:t})}function D(e){var t=e.value,n=e.className,c=Object(s.useContext)(R).defineInputType;return Object(r.jsx)("div",{onClick:function(){return c(t)},className:n,children:t})}function I(){return Object(r.jsxs)("div",{id:"keyboard",children:[Object(r.jsxs)(m,{children:[Object(r.jsx)(D,{value:"c",className:"key double-key"}),Object(r.jsx)(D,{value:"\u232b",className:"key delete"}),Object(r.jsx)(D,{value:"\xf7",className:"key math-operator"})]}),Object(r.jsxs)(m,{children:[Object(r.jsx)(D,{value:7,className:"key"}),Object(r.jsx)(D,{value:8,className:"key"}),Object(r.jsx)(D,{value:9,className:"key"}),Object(r.jsx)(D,{value:"\xd7",className:"key math-operator"})]}),Object(r.jsxs)(m,{children:[Object(r.jsx)(D,{value:4,className:"key"}),Object(r.jsx)(D,{value:5,className:"key"}),Object(r.jsx)(D,{value:6,className:"key"}),Object(r.jsx)(D,{value:"\u2212",className:"key math-operator"})]}),Object(r.jsxs)(m,{children:[Object(r.jsx)(D,{value:1,className:"key"}),Object(r.jsx)(D,{value:2,className:"key"}),Object(r.jsx)(D,{value:3,className:"key"}),Object(r.jsx)(D,{value:"+",className:"key math-operator"})]}),Object(r.jsxs)(m,{children:[Object(r.jsx)(D,{value:"\xb1",className:"key"}),Object(r.jsx)(D,{value:0,className:"key"}),Object(r.jsx)(D,{value:".",className:"key"}),Object(r.jsx)(D,{value:"=",className:"key math-operator"})]})]})}n(32);function E(e){var t=e.display,n=j().log;return Object(r.jsx)("div",{id:"journal-container",style:t?{bottom:"0"}:{bottom:"-420px"},children:Object(r.jsxs)("div",{id:"journal",children:[n.join(" ")," "]})})}function J(){var e=Object(s.useState)(!1),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(r.jsx)(b,{children:Object(r.jsx)(w,{children:Object(r.jsx)(C,{children:Object(r.jsxs)("div",{id:"app",children:[Object(r.jsx)(y,{setJournalDisplaying:c}),Object(r.jsx)(I,{}),Object(r.jsx)(E,{display:n})]})})})})}a.a.render(Object(r.jsx)(J,{}),document.getElementById("root"))},6:function(e,t,n){},8:function(e,t,n){}},[[33,1,2]]]);
//# sourceMappingURL=main.7acb67b7.chunk.js.map