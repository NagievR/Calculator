(this.webpackJsonpcalculator=this.webpackJsonpcalculator||[]).push([[0],{10:function(e,t,n){e.exports={key:"key_key__1-T1I",double_key:"key_double_key__3PwSw",math_operator:"key_math_operator__34NU0",delete:"key_delete__2_vut"}},13:function(e,t,n){e.exports={app:"app_app__3RidC"}},14:function(e,t,n){e.exports={screen:"screen_screen__2GNd0"}},21:function(e,t,n){},3:function(e,t,n){e.exports={output_container:"output_output_container__1SNab",log:"output_log__2Y47n",result:"output_result__2Ayua",intermediate_res:"output_intermediate_res__HGfcZ",output_elem_wrap:"output_output_elem_wrap__3IXPR",oversized:"output_oversized__1hmcB",log_margin_bottom:"output_log_margin_bottom__1AK8b"}},33:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(12),c=n.n(a),u=n(1),i=n.n(u),o=(n(21),n(2)),s=n(13),l=n.n(s),j=n(14),d=n.n(j),b=n(9),f=n.n(b);function p(e){var t=e.switcherDisplaying,n=e.setJournalDisplaying,a="\u25b2",c=Object(u.useState)(a),i=Object(o.a)(c,2),s=i[0],l=i[1];function j(){l(s===a?"\xd7":a),n((function(e){return!e}))}Object(u.useEffect)((function(){t||(l(a),n(!1))}),[n,t]);var d=Object(u.useState)(!1),b=Object(o.a)(d,2),p=b[0],h=b[1];return Object(u.useEffect)((function(){var e=function(e){"ArrowRight"!==e.key&&70!==e.keyCode||h((function(e){return!e}))};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[]),Object(u.useEffect)((function(){t&&j()}),[p]),Object(r.jsx)("div",{id:f.a.wrapper,children:Object(r.jsx)("button",{id:f.a.switcher_btn,style:t?{top:"0"}:{top:"-30px"},onClick:j,onFocus:function(e){return e.target.blur()},children:s})})}var h=n(3),_=n.n(h),O=i.a.createContext();function v(){return Object(u.useContext)(O)}function y(e){var t=e.children,n=Object(u.useRef)([]),a=Object(u.useRef)([]),c=Object(u.useState)(""),i=Object(o.a)(c,2),s=i[0],l=i[1],j=Object(u.useState)(""),d=Object(o.a)(j,2),b=d[0],f=d[1],p=Object(u.useState)(""),h=Object(o.a)(p,2),_=h[0],v=h[1],y=Object(u.useState)([]),m=Object(o.a)(y,2),x=m[0],g=m[1],k=Object(u.useState)([]),N=Object(o.a)(k,2),S=N[0],H=N[1];var w={separateFloatBy:".",currentNumber:s,setCurrentNumber:l,result:b,setResult:f,interimResult:_,setInterimResult:v,log:x,setLog:g,history:S,setHistory:H,numbersStack:n.current,operatorsStack:a.current,clearStore:function(){a.current.length=0,n.current.length=0,l(""),f(""),v(""),g([])}};return Object(r.jsx)(O.Provider,{value:w,children:t})}function m(e){var t=e.setSwitcherDisplaying,n=e.maxDisplayWidth,a=Object(u.useState)(!1),c=Object(o.a)(a,2),i=c[0],s=c[1],l=Object(u.useRef)(),j=v(),d=j.log,b=j.history;Object(u.useEffect)((function(){l.current.offsetWidth>n||b.length?t(!0):t(!1),l.current.offsetWidth>n?s(!0):s(!1)}),[d,t,n,b]);return Object(r.jsx)("div",{className:_.a.log_margin_bottom,children:Object(r.jsx)("div",{className:"".concat(_.a.output_elem_wrap," ").concat(i?_.a.oversized:""),children:Object(r.jsx)("span",{ref:l,id:_.a.log,children:d.join(" ")})})})}var x=n(15);function g(){var e=Object(u.useRef)(),t=v(),n=t.separateFloatBy,a=t.currentNumber,c=t.interimResult,i=t.result;return Object(r.jsx)(x.Textfit,{mode:"single",max:80,children:Object(r.jsx)("div",{className:_.a.output_elem_wrap,children:Object(r.jsx)("span",{ref:e,className:a||i?"":_.a.intermediate_res,id:_.a.result,children:c?k(c,n):i?k(i,n):a?k(a,n):"0"})})})}function k(e,t){var n=String(e),r=n.split(t),a=Object(o.a)(r,2),c=a[0],u=a[1],i=Number(c).toLocaleString(),s="".concat(i).concat(t).concat(u);return n.includes(t)?s:i}function N(e){var t=e.setSwitcherDisplaying,n=e.maxDisplayWidth;return Object(r.jsxs)("div",{id:_.a.output_container,children:[Object(r.jsx)(m,{setSwitcherDisplaying:t,maxDisplayWidth:n}),Object(r.jsx)(g,{})]})}function S(e){var t=e.setJournalDisplaying,n=Object(u.useState)(!1),a=Object(o.a)(n,2),c=a[0],i=a[1],s=Object(u.useRef)();return Object(r.jsxs)("div",{ref:s,id:d.a.screen,children:[Object(r.jsx)(p,{switcherDisplaying:c,setJournalDisplaying:t}),Object(r.jsx)(N,{setSwitcherDisplaying:i,maxDisplayWidth:s.current&&s.current.clientWidth})]})}var H=n(7),w=n.n(H);function K(e){var t=e.children;return Object(r.jsx)("div",{className:w.a.keys_row,children:t})}var R=n(10),E=n.n(R);function C(e){var t=e.clearStore,n=e.log,r=e.result,a=e.setHistory;return{clearKeyHandler:function(){var e="="!==n[n.length-1];n.includes("=")&&e?function(){var e=n.lastIndexOf("="),t=n.slice(0,e+1),r=n[e+1];a((function(e){return e.concat([[t.join(" "),r]])}))}():n.includes("=")&&a((function(e){return e.concat([[n.join(" "),r]])})),t()}}}function D(e){var t=e.separateFloatBy,n=e.currentNumber,r=e.setCurrentNumber,a=e.setInterimResult,c=e.result,u=e.setResult,i=e.log,o=e.setHistory,s=e.clearStore;function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"="===i[i.length-1]&&(s(),o((function(e){return e.concat([[i.join(" "),c]])})),r(String(e)),!0)}return{numberHandler:function(e){if(!l(e)){a("");var c=String(Number.MAX_SAFE_INTEGER).length;(function(e){return String(e).split("").filter((function(e){return!isNaN(e)})).length})(n)>=c||("0"===n[0]&&n.length>0&&!n.includes(t)?r((function(t){return t.slice(1)+("0"!==e?e:"")})):r((function(t){return t+e})))}},floatKeyHandler:function(){n.includes(t)||l("0"+t)||(n.length?r((function(e){return e+t})):r((function(e){return e+"0"+t})),u(""),a(""))},negateKeyHandler:function(){n.length&&"0"!==n&&!l()&&(n.includes("-")?r((function(e){return e.slice(1)})):r((function(e){return"-"+e})))},deleteKeyHandler:function(){l()||(n.includes("-")&&2===n.length?r(""):r((function(e){return e.slice(0,e.length-1)})))}}}var I=n(11);function L(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;n;){var r=[t.pop(),t.pop()],a=r[0],c=r[1],u=e.pop(),i=u.doOperation(c,a);t.push(i),n--}return F(t[t.length-1])}function F(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;if(Number.isInteger(e)||null===e||String(e).includes("e"))return e;for(var n=Number(e).toFixed(t),r=n.length-1;r>2&&"0"===n[r];r--)n=n.slice(0,r);return n}var W=null,P=null;function T(e){var t=e.currentNumber,n=e.setCurrentNumber,r=e.setResult,a=e.result,c=e.setInterimResult,u=e.log,i=e.setLog,o=e.numbersStack,s=e.operatorsStack;function l(e){var t=function(e,t,n){if(t.length){var r=null;if(t[t.length-1].priority<e.priority||(r=L(t,n)),t.push(e),t[1]&&t[0].priority===t[1].priority){var a=t.pop();r=L(t,n),t.push(a)}return F(r)}t.push(e)}(e,s,o);c(String(null!==t&&void 0!==t?t:""))}return{mathOperatorHandler:function(e){if(t){var j=a||t;i((function(t){return t.concat(parseFloat(j),e.value)})),o.push(Number(j)),r(""),n(""),c(""),W=o.slice(),P=s.slice(),l(e)}else!function(e){e.value!==u[u.length-1]&&u.length&&(i((function(t){return t.slice(0,t.length-1).concat(e.value)})),o.length=0,s.length=0,o.push.apply(o,Object(I.a)(W)),s.push.apply(s,Object(I.a)(P)),l(e))}(e)}}}var A=i.a.createContext();function B(e){var t=e.children,n=v(),a=C(n).clearKeyHandler,c=D(n),u={numberHandler:c.numberHandler,floatKeyHandler:c.floatKeyHandler,negateKeyHandler:c.negateKeyHandler,deleteKeyHandler:c.deleteKeyHandler,mathOperatorHandler:T(n).mathOperatorHandler,equalsKeyHandler:function(e){var t=e.currentNumber,n=e.setCurrentNumber,r=e.setResult,a=e.setLog,c=e.numbersStack,u=e.operatorsStack;return{equalsKeyHandler:function(){if(u.length){t?(c.push(Number(t)),a((function(e){return e.concat(t)}))):(a((function(e){return e.concat("0")})),c.push(0)),a((function(e){return e.concat("=")}));var e=L(u,c,u.length);r(String(e)),n(String(e))}}}}(n).equalsKeyHandler,clearKeyHandler:a};return Object(r.jsx)(A.Provider,{value:u,children:t})}var J=i.a.createContext();function q(){return Object(u.useContext)(J)}var z={"\xf7":{value:"\xf7",priority:2,doOperation:function(e,t){return e/t}},"\xd7":{value:"\xd7",priority:2,doOperation:function(e,t){return e*t}},"\u2212":{value:"\u2212",priority:1,doOperation:function(e,t){return e-t}},"+":{value:"+",priority:1,doOperation:function(e,t){return e+t}}},G="=",M="c",U="\u232b",V="\xb1",X=".";function Y(e){var t=e.children,n=Object(u.useContext)(A),a=n.mathOperatorHandler,c=n.numberHandler,i=n.floatKeyHandler,o=n.negateKeyHandler,s=n.deleteKeyHandler,l=n.equalsKeyHandler,j=n.clearKeyHandler;var d={defineInputType:function(e){if(isNaN(e))if(z[e])a(z[e]);else switch(e){case G:l();break;case M:j();break;case U:s();break;case V:o();break;case X:i();break;default:alert("unknown symbol"),console.log('unknown symbol: "'.concat(e,'"'))}else c(String(e))}};return Object(r.jsx)(J.Provider,{value:d,children:t})}function Q(e){var t,n=e.value,a=e.className,c=q().defineInputType;return Object(r.jsx)("div",{onClick:function(){return c(n)},className:"".concat(E.a.key," ").concat(null!==(t=E.a[a])&&void 0!==t?t:""),children:n})}function Z(){return Object(r.jsxs)("div",{id:w.a.keyboard,children:[Object(r.jsxs)(K,{children:[Object(r.jsx)(Q,{value:"c",className:"double_key"}),Object(r.jsx)(Q,{value:"\u232b",className:"delete"}),Object(r.jsx)(Q,{value:"\xf7",className:"math_operator"})]}),Object(r.jsxs)(K,{children:[Object(r.jsx)(Q,{value:"7"}),Object(r.jsx)(Q,{value:"8"}),Object(r.jsx)(Q,{value:"9"}),Object(r.jsx)(Q,{value:"\xd7",className:"math_operator"})]}),Object(r.jsxs)(K,{children:[Object(r.jsx)(Q,{value:"4"}),Object(r.jsx)(Q,{value:"5"}),Object(r.jsx)(Q,{value:"6"}),Object(r.jsx)(Q,{value:"\u2212",className:"math_operator"})]}),Object(r.jsxs)(K,{children:[Object(r.jsx)(Q,{value:"1"}),Object(r.jsx)(Q,{value:"2"}),Object(r.jsx)(Q,{value:"3"}),Object(r.jsx)(Q,{value:"+",className:"math_operator"})]}),Object(r.jsxs)(K,{children:[Object(r.jsx)(Q,{value:"\xb1"}),Object(r.jsx)(Q,{value:"0"}),Object(r.jsx)(Q,{value:"."}),Object(r.jsx)(Q,{value:"=",className:"math_operator"})]})]})}var $=n(4),ee=n.n($);function te(e){var t=e.data,n=Object(o.a)(t,2),a=n[0],c=n[1];return Object(r.jsxs)("li",{className:ee.a.history_block,children:[a,"\xa0",Object(r.jsx)("span",{className:ee.a.result,children:c})]})}function ne(e){var t=e.display,n=v(),a=n.log,c=n.history,u=n.setHistory;return Object(r.jsx)("div",{id:ee.a.journal,style:t?{bottom:"0"}:{bottom:"-420px"},children:Object(r.jsxs)("div",{id:ee.a.main_container,children:[Object(r.jsx)("div",{children:a.join(" ")}),Object(r.jsx)("hr",{color:"#ebebeb"}),Object(r.jsxs)("div",{id:ee.a.history_header,children:[Object(r.jsx)("span",{children:"History"}),!!c.length&&Object(r.jsx)("button",{onClick:function(){return u([])},children:"CLEAR HISTORY"})]}),Object(r.jsx)("ul",{id:ee.a.history,children:c.slice(0).reverse().map((function(e,t){return Object(r.jsx)(te,{data:e},t+e[1])}))})]})})}var re={Delete:"c",Escape:"c",Shift:"\xb1",Backspace:"\u232b",Enter:"=","/":"\xf7","*":"\xd7","-":"\u2212","+":"+",".":"."};function ae(){var e=Object(u.useState)(!1),t=Object(o.a)(e,2),n=t[0],a=t[1],c=Object(u.useState)(null),i=Object(o.a)(c,2),s=i[0],j=i[1],d=q().defineInputType;return Object(u.useEffect)((function(){var e=function(e){return j(e.key)};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[]),Object(u.useEffect)((function(){var e=function(e){return null===e||isNaN(e)&&!re[e]?null:re[e]?re[e]:isNaN(e)?(console.log('unknown key: "'.concat(e,'"')),null):e}(s);e&&(d(e),j(null))}),[s]),Object(r.jsxs)("div",{id:l.a.app,children:[Object(r.jsx)(S,{setJournalDisplaying:a}),Object(r.jsx)(Z,{}),Object(r.jsx)(ne,{display:n})]})}c.a.render(Object(r.jsx)(y,{children:Object(r.jsx)(B,{children:Object(r.jsx)(Y,{children:Object(r.jsx)(ae,{})})})}),document.getElementById("root"))},4:function(e,t,n){e.exports={journal:"journal_journal__3kM43",main_container:"journal_main_container__VEWPl",history:"journal_history__3cxDQ",result:"journal_result__2Nyds",history_header:"journal_history_header__1795_",history_block:"journal_history_block__3UUfd"}},7:function(e,t,n){e.exports={keyboard:"keyboard_keyboard__379H4",keys_row:"keyboard_keys_row__1rbkV"}},9:function(e,t,n){e.exports={switcher_btn:"journal-switcher_switcher_btn__3lFxP",wrapper:"journal-switcher_wrapper__2MqhC"}}},[[33,1,2]]]);
//# sourceMappingURL=main.fd7f16ee.chunk.js.map